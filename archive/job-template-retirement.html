<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">Retirement Planning Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
            background: #ffffff;
            color: #333333;
            line-height: 1.4;
            font-size: 14px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 60px 40px;
        }

        .header {
            margin-bottom: 40px;
            text-align: center;
            border: 3px solid #333333;
            padding: 30px;
            background: #ffffff;
            box-shadow: 8px 8px 0px #333333;
        }

        .title {
            font-size: 24px;
            font-weight: 700;
            color: #333333;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 14px;
            color: #666666;
            margin-bottom: 20px;
        }

        .tag-container {
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .tag {
            background: #333333;
            color: #ffffff;
            padding: 6px 12px;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tag:hover {
            background: #000000;
        }

        .mode-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            border: 3px solid #333333;
            margin-bottom: 30px;
            box-shadow: 4px 4px 0px #333333;
        }

        .mode-btn {
            padding: 16px;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            color: #333333;
            cursor: pointer;
            border-right: 1px solid #333333;
            background: #ffffff;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.2s ease;
            font-family: inherit;
            border: none;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mode-btn:last-child {
            border-right: none;
        }

        .mode-btn.active,
        .mode-btn:hover {
            background: #333333;
            color: #ffffff;
        }

        .retirement-calculator {
            border: 3px solid #333333;
            background: #ffffff;
            box-shadow: 8px 8px 0px #333333;
            min-height: 700px;
        }

        .main-content-area {
            min-height: 800px;
        }

        .calc-header {
            padding: 24px;
            border-bottom: 1px solid #333333;
            font-size: 18px;
            font-weight: 800;
            color: #333333;
            text-align: center;
            background: #f0f8ff;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .calc-form {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            min-height: 120px;
        }

        .form-section {
            padding: 20px;
            border-right: 1px solid #333333;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 120px;
        }

        .form-section:last-child {
            border-right: none;
        }

        .form-label {
            font-size: 11px;
            color: #333333;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
        }

        .form-select {
            width: 100%;
            padding: 10px;
            font-size: 12px;
            font-family: inherit;
        }

        .form-input {
            width: 100%;
            padding: 8px;
            font-size: 12px;
            font-family: inherit;
            border: 1px solid #d1d5db;
            border-radius: 6px;
        }

        .scenario-section {
            border-top: 1px solid #333333;
            padding: 16px 24px;
            background: #f0f8ff;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .scenario-label {
            font-size: 12px;
            font-weight: 600;
            color: #333333;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .scenario-group {
            display: flex;
            gap: 8px;
        }

        .scenario-btn {
            padding: 6px 12px;
            font-size: 10px;
            font-weight: 600;
            color: #666666;
            background: #ffffff;
            border: 1px solid #333333;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .scenario-btn.active {
            background: #333333;
            color: #ffffff;
        }

        .results-section {
            border-top: 1px solid #333333;
        }

        .section-header {
            background: #333333;
            color: #ffffff;
            padding: 12px 20px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-align: center;
        }

        .retirement-overview {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            border-bottom: 1px solid #333333;
            min-height: 100px;
        }

        .corpus-breakdown {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            border-bottom: 1px solid #333333;
            background: #e8f5e8;
            min-height: 100px;
        }

        .monthly-income {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            background: #fff8e8;
            min-height: 100px;
        }

        .result-box {
            border-right: 1px solid #333333;
            padding: 16px 12px;
            text-align: center;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 100px;
        }

        .result-box:last-child {
            border-right: none;
        }

        .result-box:hover {
            background: #333333;
            color: #ffffff;
            transform: scale(1.02);
        }

        .result-value {
            font-size: 15px;
            font-weight: 900;
            margin-bottom: 4px;
        }

        .result-label {
            font-size: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.8;
            font-weight: 600;
        }

        .scenario-analysis {
            border-top: 1px solid #333333;
            padding: 24px;
            background: #fafafa;
        }

        .analysis-title {
            font-size: 14px;
            font-weight: 700;
            color: #333333;
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-align: center;
        }

        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .analysis-item {
            background: #ffffff;
            padding: 16px;
            border: 2px solid #333333;
            text-align: center;
        }

        .analysis-amount {
            font-size: 18px;
            font-weight: 900;
            color: #007bff;
            margin-bottom: 4px;
        }

        .analysis-desc {
            font-size: 10px;
            color: #666666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .assumptions {
            border-top: 1px solid #333333;
            padding: 20px 24px;
            background: #f8f8f8;
            font-size: 11px;
            color: #666666;
        }

        .assumptions-title {
            font-weight: 700;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .assumptions-list {
            line-height: 1.6;
        }

        .navigation-footer {
            margin-top: 40px;
            text-align: center;
            border: 2px solid #333333;
            padding: 20px;
            background: #f8f8f8;
        }

        .nav-links {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .nav-link {
            color: #333333;
            text-decoration: none;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 8px 16px;
            border: 2px solid #333333;
            background: #ffffff;
            transition: all 0.2s ease;
        }

        .nav-link:hover {
            background: #333333;
            color: #ffffff;
        }

        .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 11px;
            color: #666666;
            border-top: 2px solid #333333;
            padding-top: 20px;
            font-weight: 600;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 40px 20px;
            }
            
            .calc-form,
            .retirement-overview,
            .corpus-breakdown,
            .monthly-income {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .analysis-grid {
                grid-template-columns: 1fr;
            }

            .result-box {
                border-right: none;
                border-bottom: 1px solid #333333;
            }

            .result-box:nth-child(2n) {
                border-bottom: none;
            }

            .nav-links {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title" id="jobTitle">Retirement Planning Calculator</h1>
            <p class="subtitle" id="jobSubtitle">Complete retirement corpus and income analysis</p>
            <div class="tag-container" id="jobTags">
                <div class="tag">Retirement Mode</div>
                <div class="tag">PF Calculator</div>
                <div class="tag">Pension Analysis</div>
                <div class="tag">Income Projections</div>
            </div>
        </header>

        <div class="mode-selector">
            <button class="mode-btn" onclick="setMode('basic')">Basic View</button>
            <button class="mode-btn" onclick="setMode('advanced')">Advanced Calculator</button>
            <button class="mode-btn active" onclick="setMode('retirement')">Retirement Planner</button>
        </div>

        <div class="main-content-area">
            <div class="retirement-calculator">
            <div class="calc-header">Retirement Corpus & Income Planner</div>
            <div class="calc-form">
                <div class="form-section">
                    <div class="form-label">Position</div>
                    <select class="form-select" id="stage" onchange="calculateRetirement()">
                        <option value="">Choose level</option>
                        <option value="99000">SDM (₹99,000)</option>
                        <option value="120000">Assistant Collector (₹1,20,000)</option>
                        <option value="160000">District Collector (₹1,60,000)</option>
                        <option value="180000">Deputy Secretary (₹1,80,000)</option>
                        <option value="200000">Joint Secretary (₹2,00,000)</option>
                        <option value="240000">Additional Secretary (₹2,40,000)</option>
                        <option value="280000">Secretary (₹2,80,000)</option>
                    </select>
                </div>
                <div class="form-section">
                    <div class="form-label">Current Age</div>
                    <input type="number" class="form-input" id="currentAge" value="30" min="22" max="58" onchange="calculateRetirement()">
                </div>
                <div class="form-section">
                    <div class="form-label">Retirement Age</div>
                    <select class="form-select" id="retirementAge" onchange="calculateRetirement()">
                        <option value="60">60 Years</option>
                        <option value="62">62 Years (Extension)</option>
                        <option value="65">65 Years (Special)</option>
                    </select>
                </div>
                <div class="form-section">
                    <div class="form-label">Annual Increment</div>
                    <select class="form-select" id="increment" onchange="calculateRetirement()">
                        <option value="3">3% (Standard)</option>
                        <option value="4">4% (Optimistic)</option>
                        <option value="5">5% (Promotion)</option>
                    </select>
                </div>
            </div>

            <div class="scenario-section">
                <div class="scenario-label">PF Contribution Scenario</div>
                <div class="scenario-group">
                    <button class="scenario-btn active" onclick="setPFScenario('standard')" id="pfStandard">Standard 12%</button>
                    <button class="scenario-btn" onclick="setPFScenario('higher')" id="pfHigher">Higher 15%</button>
                    <button class="scenario-btn" onclick="setPFScenario('maximum')" id="pfMaximum">Maximum 20%</button>
                </div>
            </div>

            <div id="retirementResult" class="results-section hidden">
                <div class="section-header">Retirement Overview</div>
                <div class="retirement-overview">
                    <div class="result-box">
                        <div class="result-value" id="yearsToRetire">30</div>
                        <div class="result-label">Years to Retire</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="totalSalaryEarned">₹0</div>
                        <div class="result-label">Total Salary Earned</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="finalSalary">₹0</div>
                        <div class="result-label">Final Monthly Salary</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="totalCorpus">₹0</div>
                        <div class="result-label">Total Retirement Corpus</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="corpusInCrores">₹0</div>
                        <div class="result-label">Corpus (Crores)</div>
                    </div>
                </div>

                <div class="section-header">Retirement Corpus Breakdown</div>
                <div class="corpus-breakdown">
                    <div class="result-box">
                        <div class="result-value" id="pfCorpus">₹0</div>
                        <div class="result-label">PF Corpus</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="gratuity">₹0</div>
                        <div class="result-label">Gratuity</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="pensionValue">₹0</div>
                        <div class="result-label">Pension Value</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="otherBenefits">₹0</div>
                        <div class="result-label">Other Benefits</div>
                    </div>
                </div>

                <div class="section-header">Monthly Income After Retirement</div>
                <div class="monthly-income">
                    <div class="result-box">
                        <div class="result-value" id="pensionMonthly">₹0</div>
                        <div class="result-label">Pension Monthly</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="pfWithdrawal">₹0</div>
                        <div class="result-label">PF Monthly (SWP)</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="totalMonthlyIncome">₹0</div>
                        <div class="result-label">Total Monthly</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="replacementRatio">0%</div>
                        <div class="result-label">Replacement Ratio</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="taxOnPension">₹0</div>
                        <div class="result-label">Tax on Pension</div>
                    </div>
                    <div class="result-box">
                        <div class="result-value" id="netRetirementIncome">₹0</div>
                        <div class="result-label">Net Take Home</div>
                    </div>
                </div>
            </div>

            <div id="scenarioAnalysis" class="scenario-analysis hidden">
                <div class="analysis-title">PF Contribution Impact Analysis</div>
                <div class="analysis-grid">
                    <div class="analysis-item">
                        <div class="analysis-amount" id="standardPF">₹0</div>
                        <div class="analysis-desc">With 12% PF Contribution</div>
                    </div>
                    <div class="analysis-item">
                        <div class="analysis-amount" id="higherPF">₹0</div>
                        <div class="analysis-desc">With 15% PF Contribution</div>
                    </div>
                    <div class="analysis-item">
                        <div class="analysis-amount" id="maximumPF">₹0</div>
                        <div class="analysis-desc">With 20% PF Contribution</div>
                    </div>
                </div>
            </div>

            <div class="assumptions">
                <div class="assumptions-title">Calculation Assumptions:</div>
                <div class="assumptions-list">
                    • PF Interest Rate: 8.15% per annum (current rate) • Pension: 50% of average salary of last 10 months • Gratuity: 15 days salary for each year of service • Tax rates projected based on current slabs with inflation adjustment • Employer PF contribution included in corpus calculations • DA/HRA increases factored into salary progression
                </div>
            </div>
        </div>
        </div>

        <div class="navigation-footer">
            <div class="nav-links">
                <a href="#" class="nav-link" onclick="setMode('basic')">Basic Calculator</a>
                <a href="#" class="nav-link" onclick="setMode('advanced')">Advanced Calculator</a>
                <a href="#" class="nav-link">Compare Retirement Plans</a>
            </div>
        </div>

        <footer class="footer">
            © 2025 Government Pay Navigator • Retirement Planning Calculator
        </footer>
    </div>

    <script>
        let pfContributionRate = 0.12; // Default 12%

        function calculateRetirement() {
            const basic = parseInt(document.getElementById('stage').value);
            const currentAge = parseInt(document.getElementById('currentAge').value) || 30;
            const retirementAge = parseInt(document.getElementById('retirementAge').value) || 60;
            const incrementRate = parseInt(document.getElementById('increment').value) / 100 || 0.03;
            
            if (!basic) {
                document.getElementById('retirementResult').classList.add('hidden');
                document.getElementById('scenarioAnalysis').classList.add('hidden');
                return;
            }
            
            const yearsToRetire = retirementAge - currentAge;
            
            // Calculate salary progression and total earnings
            let totalSalaryEarned = 0;
            let currentSalary = basic;
            let pfCorpus = 0;
            const pfInterestRate = 0.0815; // 8.15% annual
            
            // Calculate PF corpus with compound interest
            for (let year = 0; year < yearsToRetire; year++) {
                const yearSalary = currentSalary * 12;
                totalSalaryEarned += yearSalary;
                
                // PF calculation (employee + employer contribution)
                const annualPFContribution = (currentSalary * pfContributionRate * 12) * 2; // 2x for employer contribution
                const compoundingYears = yearsToRetire - year;
                pfCorpus += annualPFContribution * Math.pow(1 + pfInterestRate, compoundingYears);
                
                // Apply increment for next year
                currentSalary = currentSalary * (1 + incrementRate);
            }
            
            const finalSalary = currentSalary / (1 + incrementRate); // Salary at retirement
            
            // Calculate other retirement benefits
            const gratuity = (finalSalary * 15 * yearsToRetire) / 26; // 15 days for each year
            const pensionMonthly = finalSalary * 0.5; // 50% of last salary
            const pensionValue = pensionMonthly * 12 * 20; // 20 years of pension
            const otherBenefits = finalSalary * 3; // Commutation, leave encashment etc.
            
            const totalCorpus = pfCorpus + gratuity + pensionValue + otherBenefits;
            const corpusInCrores = totalCorpus / 10000000;
            
            // Monthly retirement income calculations
            const pfMonthlyWithdrawal = pfCorpus / (25 * 12); // 4% withdrawal rule over 25 years
            const totalMonthlyIncome = pensionMonthly + pfMonthlyWithdrawal;
            const replacementRatio = (totalMonthlyIncome / finalSalary) * 100;
            
            // Tax calculations on retirement income
            const annualPensionIncome = pensionMonthly * 12;
            let taxOnPension = 0;
            if (annualPensionIncome > 300000) {
                // Simplified tax calculation for senior citizens
                if (annualPensionIncome <= 500000) {
                    taxOnPension = (annualPensionIncome - 300000) * 0.05;
                } else if (annualPensionIncome <= 1000000) {
                    taxOnPension = 200000 * 0.05 + (annualPensionIncome - 500000) * 0.20;
                } else {
                    taxOnPension = 200000 * 0.05 + 500000 * 0.20 + (annualPensionIncome - 1000000) * 0.30;
                }
            }
            
            const monthlyTaxOnPension = taxOnPension / 12;
            const netRetirementIncome = totalMonthlyIncome - monthlyTaxOnPension;
            
            // Update displays
            document.getElementById('yearsToRetire').textContent = yearsToRetire + ' Years';
            document.getElementById('totalSalaryEarned').textContent = '₹' + (totalSalaryEarned / 10000000).toFixed(1) + 'Cr';
            document.getElementById('finalSalary').textContent = '₹' + Math.round(finalSalary).toLocaleString();
            document.getElementById('totalCorpus').textContent = '₹' + (totalCorpus / 10000000).toFixed(1) + 'Cr';
            document.getElementById('corpusInCrores').textContent = '₹' + corpusInCrores.toFixed(2) + 'Cr';
            
            document.getElementById('pfCorpus').textContent = '₹' + (pfCorpus / 10000000).toFixed(1) + 'Cr';
            document.getElementById('gratuity').textContent = '₹' + (gratuity / 100000).toFixed(1) + 'L';
            document.getElementById('pensionValue').textContent = '₹' + (pensionValue / 10000000).toFixed(1) + 'Cr';
            document.getElementById('otherBenefits').textContent = '₹' + (otherBenefits / 100000).toFixed(1) + 'L';
            
            document.getElementById('pensionMonthly').textContent = '₹' + Math.round(pensionMonthly).toLocaleString();
            document.getElementById('pfWithdrawal').textContent = '₹' + Math.round(pfMonthlyWithdrawal).toLocaleString();
            document.getElementById('totalMonthlyIncome').textContent = '₹' + Math.round(totalMonthlyIncome).toLocaleString();
            document.getElementById('replacementRatio').textContent = replacementRatio.toFixed(1) + '%';
            document.getElementById('taxOnPension').textContent = '₹' + Math.round(monthlyTaxOnPension).toLocaleString();
            document.getElementById('netRetirementIncome').textContent = '₹' + Math.round(netRetirementIncome).toLocaleString();
            
            // Calculate scenario analysis
            calculateScenarioAnalysis(basic, currentAge, retirementAge, incrementRate);
            
            document.getElementById('retirementResult').classList.remove('hidden');
            document.getElementById('scenarioAnalysis').classList.remove('hidden');
        }

        function calculateScenarioAnalysis(basic, currentAge, retirementAge, incrementRate) {
            const yearsToRetire = retirementAge - currentAge;
            const pfInterestRate = 0.0815;
            
            // Calculate PF corpus for different contribution rates
            const scenarios = [0.12, 0.15, 0.20];
            const results = [];
            
            scenarios.forEach(rate => {
                let corpus = 0;
                let currentSalary = basic;
                
                for (let year = 0; year < yearsToRetire; year++) {
                    const annualPFContribution = (currentSalary * rate * 12) * 2;
                    const compoundingYears = yearsToRetire - year;
                    corpus += annualPFContribution * Math.pow(1 + pfInterestRate, compoundingYears);
                    currentSalary = currentSalary * (1 + incrementRate);
                }
                
                results.push(corpus);
            });
            
            document.getElementById('standardPF').textContent = '₹' + (results[0] / 10000000).toFixed(1) + 'Cr';
            document.getElementById('higherPF').textContent = '₹' + (results[1] / 10000000).toFixed(1) + 'Cr';
            document.getElementById('maximumPF').textContent = '₹' + (results[2] / 10000000).toFixed(1) + 'Cr';
        }

        function setPFScenario(scenario) {
            // Update active button
            document.querySelectorAll('.scenario-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            if (scenario === 'standard') {
                pfContributionRate = 0.12;
                document.getElementById('pfStandard').classList.add('active');
            } else if (scenario === 'higher') {
                pfContributionRate = 0.15;
                document.getElementById('pfHigher').classList.add('active');
            } else if (scenario === 'maximum') {
                pfContributionRate = 0.20;
                document.getElementById('pfMaximum').classList.add('active');
            }
            
            // Recalculate if we have data
            calculateRetirement();
        }

        function setMode(mode) {
            if (mode === 'basic') {
                window.location.href = 'job-template-basic.html';
            } else if (mode === 'advanced') {
                window.location.href = 'job-template-advanced.html';
            }
        }
    </script>
</body>
</html>