<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All States & UTs Government Jobs - SARKARI SALARY</title>
    <meta name="description" content="Browse government jobs by state and union territory. Complete directory of state-wise recruitment opportunities.">
    <link rel="icon" type="image/svg+xml" href="shared/favicon.svg">

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2954991378408470"
         crossorigin="anonymous"></script>

    <!-- Global JavaScript -->
    <script src="shared/global.js"></script>
    
    <!-- Brutalist Styles -->
    <link rel="stylesheet" href="shared/brutalist-styles.css">
    <link rel="stylesheet" href="shared/header-footer.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
            background: #ffffff;
            color: #333333;
            line-height: 1.4;
            font-size: 14px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 800;
            color: #333333;
            margin-bottom: 20px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
            padding-bottom: 15px;
            border-bottom: 3px solid #333333;
        }

        .states-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-bottom: 40px;
        }

        .state-card {
            border: 3px solid #333333;
            background: #ffffff;
            padding: 20px;
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .state-card:hover {
            background: #333333;
            color: #ffffff;
            transform: scale(1.02);
        }

        .state-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .state-name {
            font-size: 16px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .state-code {
            font-size: 10px;
            background: #333333;
            color: #ffffff;
            padding: 4px 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
        }

        .state-card:hover .state-code {
            background: #ffffff;
            color: #333333;
        }

        .state-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .stat-item {
            text-align: center;
            padding: 8px;
            border: 1px solid #333333;
            background: #f8f8f8;
        }

        .state-card:hover .stat-item {
            background: rgba(255,255,255,0.1);
            border-color: #ffffff;
        }

        .stat-number {
            font-size: 14px;
            font-weight: 900;
            margin-bottom: 2px;
        }

        .stat-label {
            font-size: 9px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            opacity: 0.8;
        }

        .state-desc {
            font-size: 12px;
            opacity: 0.8;
            line-height: 1.3;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }
            
            .states-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div id="header"></div>

    <div class="container">
        <h2 class="section-title">üó∫Ô∏è All States & Union Territories</h2>

        <div class="states-grid" id="states-container">
            <!-- States will be auto-generated from jobs.json -->
        </div>
    </div>

    <!-- Footer -->
    <div id="footer"></div>

    <script>
        // Load header and footer
        fetch('shared/header.html')
            .then(response => response.text())
            .then(data => document.getElementById('header').innerHTML = data);

        fetch('shared/footer.html')
            .then(response => response.text())
            .then(data => document.getElementById('footer').innerHTML = data);

        // Load and generate states from jobs.json
        fetch('data/jobs.json')
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('states-container');
                const stateMap = {};

                // Calculate stats for each state from ACTIVE jobs only
                data.jobs.filter(job => job.status === 'active').forEach(job => {
                    if (job.states && Array.isArray(job.states)) {
                        job.states.forEach(stateSlug => {
                            if (!stateMap[stateSlug]) {
                                stateMap[stateSlug] = {
                                    slug: stateSlug,
                                    name: formatStateName(stateSlug),
                                    code: getStateCode(stateSlug),
                                    jobs: [],
                                    totalJobs: 0,
                                    totalPosts: 0
                                };
                            }
                            stateMap[stateSlug].jobs.push(job);
                            stateMap[stateSlug].totalJobs++;
                            stateMap[stateSlug].totalPosts += (job.posts || 0);
                        });
                    }
                });

                // Sort states by total jobs (descending)
                const states = Object.values(stateMap).sort((a, b) => b.totalJobs - a.totalJobs);

                // Render state cards
                states.forEach(state => {
                    const card = document.createElement('a');
                    card.href = `states/${state.slug}.html`;
                    card.className = 'state-card';

                    card.innerHTML = `
                        <div class="state-header">
                            <div class="state-name">${state.name}</div>
                            <div class="state-code">${state.code}</div>
                        </div>
                        <div class="state-stats">
                            <div class="stat-item">
                                <div class="stat-number">${state.totalJobs}</div>
                                <div class="stat-label">Active Jobs</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number">${state.totalPosts.toLocaleString()}</div>
                                <div class="stat-label">Total Posts</div>
                            </div>
                        </div>
                        <div class="state-desc">Click to view all ${state.name} government jobs</div>
                    `;

                    container.appendChild(card);
                });

                // Helper functions
                function formatStateName(slug) {
                    return slug.split('-').map(word =>
                        word.charAt(0).toUpperCase() + word.slice(1)
                    ).join(' ');
                }

                function getStateCode(slug) {
                    const codes = {
                        'uttar-pradesh': 'UP',
                        'maharashtra': 'MH',
                        'bihar': 'BR',
                        'west-bengal': 'WB',
                        'madhya-pradesh': 'MP',
                        'tamil-nadu': 'TN',
                        'rajasthan': 'RJ',
                        'karnataka': 'KA',
                        'gujarat': 'GJ',
                        'andhra-pradesh': 'AP',
                        'odisha': 'OD',
                        'telangana': 'TS',
                        'kerala': 'KL',
                        'jharkhand': 'JH',
                        'assam': 'AS',
                        'punjab': 'PB',
                        'chhattisgarh': 'CG',
                        'haryana': 'HR',
                        'delhi': 'DL',
                        'jammu-kashmir': 'JK',
                        'uttarakhand': 'UK',
                        'himachal-pradesh': 'HP',
                        'tripura': 'TR',
                        'meghalaya': 'ML',
                        'manipur': 'MN',
                        'nagaland': 'NL',
                        'goa': 'GA',
                        'arunachal-pradesh': 'AR',
                        'mizoram': 'MZ',
                        'sikkim': 'SK',
                        'puducherry': 'PY',
                        'chandigarh': 'CH',
                        'andaman-nicobar': 'AN',
                        'dadra-nagar-haveli': 'DN',
                        'daman-diu': 'DD',
                        'lakshadweep': 'LD',
                        'ladakh': 'LA',
                        'all-india': 'üáÆüá≥'
                    };
                    return codes[slug] || slug.substring(0, 2).toUpperCase();
                }
            })
            .catch(error => {
                console.error('Error loading states:', error);
                document.getElementById('states-container').innerHTML = `
                    <div style="padding: 40px; text-align: center; border: 3px solid #333; background: #fffacd;">
                        <h3>Error Loading States</h3>
                        <p>Please refresh the page</p>
                    </div>
                `;
            });
    </script>
</body>
</html>
